<?php
$re = '/<(?:(?!input)[^>])*>(?:<\/[^>]*>)?/imu';
$str = "<h1 style=\"border:0px solid rgba(156, 163, 175, 0.25);box-sizing:border-box;--c:;--d:0px;--e:#fff;--f:rgba(59,130,246,0.5);--g:0 0 #0000;--h:0 0 #0000;--i:0 0 #0000;--j:0 0 #0000;font-size:24px;margin-top:0px;margin-bottom:0px;line-height:1.5;min-width:0px;font-family:'Roboto Condensed', sans-serif;max-width:100%;background-color:#f3f4f6;text-align:justify;\">YouTube Premium - Xem Youtube kh&ocirc;ng quảng c&aacute;o</h1><h2 style=\"border:0px solid rgba(156, 163, 175, 0.25);box-sizing:border-box;--c:;--d:0px;--e:#fff;--f:rgba(59,130,246,0.5);--g:0 0 #0000;--h:0 0 #0000;--i:0 0 #0000;--j:0 0 #0000;font-size:20px;margin:0.5em 0px 0px;line-height:1.5;min-width:0px;font-family:'Roboto Condensed', sans-serif;max-width:100%;background-color:#f3f4f6;text-align:justify;\">Video kh&ocirc;ng c&oacute; quảng c&aacute;o</h2><p style=\"border:0px solid rgba(156, 163, 175, 0.25);box-sizing:border-box;--c:;--d:0px;--e:#fff;--f:rgba(59,130,246,0.5);--g:0 0 #0000;--h:0 0 #0000;--i:0 0 #0000;--j:0 0 #0000;margin-top:0.5em;margin-bottom:0px;font-family:Roboto, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;max-width:100%;background-color:#f3f4f6;text-align:justify;\">Với YouTube Premium, bạn c&oacute; thể xem h&agrave;ng triệu video kh&ocirc;ng c&oacute; quảng c&aacute;o. Quảng c&aacute;o bao gồm cả quảng c&aacute;o trước v&agrave; trong video cũng như quảng c&aacute;o biểu ngữ, quảng c&aacute;o đi k&egrave;m kết quả t&igrave;m kiếm v&agrave; quảng c&aacute;o lớp phủ tr&ecirc;n video. Bạn vẫn c&oacute; thể xem quảng c&aacute;o hoặc thương hiệu nh&uacute;ng trong nội dung của người s&aacute;ng tạo m&agrave; YouTube kh&ocirc;ng kiểm so&aacute;t.</p><p style=\"border:0px solid rgba(156, 163, 175, 0.25);box-sizing:border-box;--c:;--d:0px;--e:#fff;--f:rgba(59,130,246,0.5);--g:0 0 #0000;--h:0 0 #0000;--i:0 0 #0000;--j:0 0 #0000;margin-top:0.5em;margin-bottom:0px;font-family:Roboto, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;max-width:100%;background-color:#f3f4f6;text-align:justify;\">Video kh&ocirc;ng c&oacute; quảng c&aacute;o được hỗ trợ tr&ecirc;n tất cả c&aacute;c thiết bị v&agrave; nền tảng m&agrave; bạn c&oacute; thể đăng nhập bằng t&agrave;i khoản Google, kể cả tr&ecirc;n&nbsp;TV th&ocirc;ng minh/m&aacute;y chơi tr&ograve; chơi tương th&iacute;ch&nbsp;v&agrave; c&aacute;c ứng dụng YouTube, YouTube &Acirc;m nhạc, YouTube Gaming v&agrave; YouTube Kids d&agrave;nh cho thiết bị di động nếu c&aacute;c ứng dụng n&agrave;y c&oacute; ở địa điểm của bạn.</p><h2 style=\"border:0px solid rgba(156, 163, 175, 0.25);box-sizing:border-box;--c:;--d:0px;--e:#fff;--f:rgba(59,130,246,0.5);--g:0 0 #0000;--h:0 0 #0000;--i:0 0 #0000;--j:0 0 #0000;font-size:20px;margin:0.5em 0px 0px;line-height:1.5;min-width:0px;font-family:'Roboto Condensed', sans-serif;max-width:100%;background-color:#f3f4f6;text-align:justify;\">YouTube Music Premium</h2><p style=\"border:0px solid rgba(156, 163, 175, 0.25);box-sizing:border-box;--c:;--d:0px;--e:#fff;--f:rgba(59,130,246,0.5);--g:0 0 #0000;--h:0 0 #0000;--i:0 0 #0000;--j:0 0 #0000;margin-top:0.5em;margin-bottom:0px;font-family:Roboto, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;max-width:100%;background-color:#f3f4f6;text-align:justify;\">Bạn cũng c&oacute; quyền sử dụng YouTube Music Premium như một phần lợi &iacute;ch của m&igrave;nh. Với YouTube Music Premium, bạn c&oacute; thể:</p><ul style=\"border:0px solid rgba(156, 163, 175, 0.25);box-sizing:border-box;--c:;--d:0px;--e:#fff;--f:rgba(59,130,246,0.5);--g:0 0 #0000;--h:0 0 #0000;--i:0 0 #0000;--j:0 0 #0000;list-style:none;margin:0.5em 0px 0px;padding:0px;font-family:Roboto, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;max-width:100%;background-color:#f3f4f6;\"><li style=\"border:0px solid rgba(156, 163, 175, 0.25);box-sizing:border-box;--c:;--d:0px;--e:#fff;--f:rgba(59,130,246,0.5);--g:0 0 #0000;--h:0 0 #0000;--i:0 0 #0000;--j:0 0 #0000;font-family:inherit;font-size:inherit;max-width:100%;text-align:justify;\">Thưởng thức h&agrave;ng triệu b&agrave;i h&aacute;t v&agrave; video trong YouTube &Acirc;m nhạc kh&ocirc;ng c&oacute; quảng c&aacute;o.</li><li style=\"border:0px solid rgba(156, 163, 175, 0.25);box-sizing:border-box;--c:;--d:0px;--e:#fff;--f:rgba(59,130,246,0.5);--g:0 0 #0000;--h:0 0 #0000;--i:0 0 #0000;--j:0 0 #0000;font-family:inherit;font-size:inherit;max-width:100%;margin-top:0.25em;text-align:justify;\">Tải c&aacute;c b&agrave;i h&aacute;t v&agrave; video xuống thiết bị di động để nghe khi kh&ocirc;ng c&oacute; mạng.</li><li style=\"border:0px solid rgba(156, 163, 175, 0.25);box-sizing:border-box;--c:;--d:0px;--e:#fff;--f:rgba(59,130,246,0.5);--g:0 0 #0000;--h:0 0 #0000;--i:0 0 #0000;--j:0 0 #0000;font-family:inherit;font-size:inherit;max-width:100%;margin-top:0.25em;text-align:justify;\">Sử dụng t&iacute;nh năng ph&aacute;t trong nền để tiếp tục ph&aacute;t nhạc khi bạn d&ugrave;ng c&aacute;c ứng dụng kh&aacute;c.</li><li style=\"border:0px solid rgba(156, 163, 175, 0.25);box-sizing:border-box;--c:;--d:0px;--e:#fff;--f:rgba(59,130,246,0.5);--g:0 0 #0000;--h:0 0 #0000;--i:0 0 #0000;--j:0 0 #0000;font-family:inherit;font-size:inherit;max-width:100%;margin-top:0.25em;text-align:justify;\">Bật chế độ chỉ &acirc;m thanh để nghe nhạc m&agrave; kh&ocirc;ng cần tải video</li></ul><h2 style=\"border:0px solid rgba(156, 163, 175, 0.25);box-sizing:border-box;--c:;--d:0px;--e:#fff;--f:rgba(59,130,246,0.5);--g:0 0 #0000;--h:0 0 #0000;--i:0 0 #0000;--j:0 0 #0000;font-size:20px;margin:0.5em 0px 0px;line-height:1.5;min-width:0px;font-family:'Roboto Condensed', sans-serif;max-width:100%;background-color:#f3f4f6;text-align:justify;\">Tải video xuống để xem khi kh&ocirc;ng c&oacute; mạng</h2><p style=\"border:0px solid rgba(156, 163, 175, 0.25);box-sizing:border-box;--c:;--d:0px;--e:#fff;--f:rgba(59,130,246,0.5);--g:0 0 #0000;--h:0 0 #0000;--i:0 0 #0000;--j:0 0 #0000;margin-top:0.5em;margin-bottom:0px;font-family:Roboto, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;max-width:100%;background-color:#f3f4f6;text-align:justify;\">Tải c&aacute;c video v&agrave; danh s&aacute;ch ph&aacute;t xuống để xem khi kh&ocirc;ng c&oacute; mạng nếu bạn kh&ocirc;ng c&oacute; kết nối Internet. Bạn c&oacute; thể tải video xuống để xem khi kh&ocirc;ng c&oacute; mạng bằng ứng dụng YouTube, YouTube &Acirc;m nhạc v&agrave;&nbsp;YouTube Gaming (v&agrave; xem c&aacute;c video tự động tải xuống trong ứng dụng YouTube Kids) nếu c&aacute;c ứng dụng n&agrave;y c&oacute; ở địa điểm của bạn khi bạn đăng nhập v&agrave;o ứng dụng bằng t&agrave;i khoản YouTube Premium.</p><h2 style=\"border:0px solid rgba(156, 163, 175, 0.25);box-sizing:border-box;--c:;--d:0px;--e:#fff;--f:rgba(59,130,246,0.5);--g:0 0 #0000;--h:0 0 #0000;--i:0 0 #0000;--j:0 0 #0000;font-size:20px;margin:0.5em 0px 0px;line-height:1.5;min-width:0px;font-family:'Roboto Condensed', sans-serif;max-width:100%;background-color:#f3f4f6;text-align:justify;\">YouTube Originals</h2><p style=\"border:0px solid rgba(156, 163, 175, 0.25);box-sizing:border-box;--c:;--d:0px;--e:#fff;--f:rgba(59,130,246,0.5);--g:0 0 #0000;--h:0 0 #0000;--i:0 0 #0000;--j:0 0 #0000;margin-top:0.5em;margin-bottom:0px;font-family:Roboto, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;max-width:100%;background-color:#f3f4f6;text-align:justify;\">Xem miễn ph&iacute; tất cả phim bộ v&agrave; phim lẻ của Youtube Originals từ một s&oacute; người s&aacute;ng tạo th&agrave;nh c&ocirc;ng nhất của YouTube ngay khi họ ph&aacute;t h&agrave;nh.</p>";



preg_match_all($re, $str, $matches, PREG_SET_ORDER, 0);

$matches_value = array_values(array_merge(...$matches));
$arr = [];
$e_str = $str;


for ($i=0; $i < count($matches_value); $i++) { 

	$start_position = mb_strlen($matches_value[$i], "UTF-8");
	$item['html'] =$matches_value[$i];
	$e_str = substr($e_str, $start_position);


	if ($i != (count($matches_value) -1)) {
		// code...
		$next_position = strpos($e_str, $matches_value[$i+1]);
		$this_string = substr($e_str, 0, $next_position);
		$item['text'] = html_entity_decode($this_string);
		$e_str = substr($e_str, $next_position);

	}
	$arr[] = $item;
}

var_dump($arr);
